import{T as G}from"./TopBar-TE3OBIJW.js";import{d as A,o as i,c as r,a as t,_ as J,u as K,b as P,i as C,e as Q,r as m,f as W,j as c,k as s,m as l,q as h,w as n,n as j,l as f,F as z,p as $,s as X,v as Y}from"./index-78te5h-u.js";const Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},tt=t("path",{d:"M256 448a32 32 0 0 1-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8c-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 0 0 9.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64c.54 54.21-18.63 104.26-58.61 153c-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 0 1-18 5.56z",fill:"currentColor"},null,-1),et=[tt],ot=A({name:"Heart",render:function(x,v){return i(),r("svg",Z,et)}}),nt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},st=t("path",{d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81c-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42c-.54-52.67-42.32-96.81-95.08-96.81z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),it=[st],lt=A({name:"HeartOutline",render:function(x,v){return i(),r("svg",nt,it)}}),y=d=>(X("data-v-123e9328"),d=d(),Y(),d),at={style:{position:"fixed",top:"0",height:"50px",width:"100%","z-index":"999"}},rt={class:"card"},ct={style:{position:"absolute",left:"40px",bottom:"20px"}},dt={style:{position:"absolute",top:"25px",left:"200px","font-size":"20px"}},_t={style:{position:"absolute",top:"70px",left:"200px"}},pt={style:{"font-weight":"bold","font-size":"20px"}},ut=y(()=>t("text",{style:{"margin-left":"5px","font-size":"14px"}},"文章",-1)),ht={style:{"font-weight":"bold","font-size":"20px","margin-left":"20px"}},ft=y(()=>t("text",{style:{"margin-left":"5px","font-size":"14px"}},"粉丝",-1)),xt={class:"tabs"},vt={style:{"margin-bottom":"15px"}},gt={style:{position:"absolute",left:"240px",width:"690px"}},mt={style:{"font-weight":"bold","font-size":"20px"}},wt=["innerHTML"],yt=y(()=>t("div",{style:{"text-align":"center"}},[f(" 文章太精彩了"),t("br"),f("点进去看看吧 ")],-1)),bt={style:{position:"absolute","margin-top":"10px"}},kt={style:{height:"140px"}},Ct=["onClick"],zt=["onClick"],$t={style:{position:"absolute","margin-top":"10px"}},Tt={style:{"margin-bottom":"15px"}},It={style:{position:"absolute",left:"240px",width:"690px"}},Ht={style:{"font-weight":"bold","font-size":"20px"}},qt=["innerHTML"],Bt=y(()=>t("div",{style:{"text-align":"center"}},[f(" 文章太精彩了"),t("br"),f("点进去看看吧 ")],-1)),Mt={style:{position:"absolute","margin-top":"10px"}},Dt={style:{height:"140px"}},Lt=["onClick"],Ot=["onClick"],Ut={style:{position:"absolute","margin-top":"10px"}},Ft={style:{"margin-bottom":"15px"}},St={style:{position:"absolute",left:"90px",top:"25px","font-size":"20px"}},jt={__name:"Others",setup(d){const x=K(),v=P();C("serverUrl");const w=C("axios"),T=C("message"),a=Q({self:!1,avatarUrl:"",name:"",number:0,fans:0,id:0,loginId:0}),I=m([]),H=m([]),q=m([]),B=m(!1),M=m(0);W(()=>{b()});const b=async()=>{let e=await w.get("user/detailedInfo/"+v.query.id);if(console.log(e),e.code==200){a.self=e.data.self,a.avatarUrl=e.data.avatar,a.name=e.data.username,a.number=e.data.articles.length,a.fans=e.data.fans,a.id=e.data.userid,a.loginid=e.data.loginid,I.value=e.data.articles,H.value=e.data.collects,q.value=e.data.following;let g=await w.get("following/"+v.query.id);console.log(g),g.code==200&&(B.value=g.data.followed,M.value=g.data.index)}},E=async()=>{let e=await w.put("following/new/"+v.query.id);console.log(e),e.code==200&&(T.warning("已关注",{showIcon:!1}),b())},N=async()=>{let e=await w.remove("following/"+M.value);console.log(e),e.code==200&&(T.warning("取消关注",{showIcon:!1}),b())},V=e=>{console.log(e.userid,a.loginid),e.userid==a.loginid?x.push({path:"/myself",query:{id:e.userid}}):x.push({path:"/mid",query:{id:e.userid}})},_=e=>{x.push({path:"/detail",query:{id:e.articleid}})};return(e,g)=>{const D=c("n-avatar"),L=c("n-icon"),O=c("n-button"),U=c("n-image"),F=c("n-ellipsis"),p=c("n-card"),k=c("n-tab-pane"),R=c("n-tabs");return i(),r("div",null,[t("div",at,[s(G)]),t("div",rt,[t("div",ct,[s(D,{round:"",size:120,src:a.avatarUrl,bordered:!0},null,8,["src"])]),t("div",dt,l(a.name),1),t("div",_t,[t("text",pt,l(a.number),1),ut,t("text",ht,l(a.fans),1),ft]),B.value?(i(),h(O,{key:1,onClick:N,style:{position:"absolute",right:"40px",top:"25px",cursor:"pointer"},round:"",ghost:"",color:"#ED4557"},{icon:n(()=>[s(L,null,{default:n(()=>[s(j(ot))]),_:1})]),default:n(()=>[f(" 已关注 ")]),_:1})):(i(),h(O,{key:0,onClick:E,style:{position:"absolute",right:"40px",top:"25px",cursor:"pointer"},round:"",ghost:"",color:"#ED4557"},{icon:n(()=>[s(L,null,{default:n(()=>[s(j(lt))]),_:1})]),default:n(()=>[f(" 关注 ")]),_:1}))]),t("div",xt,[s(p,null,{default:n(()=>[s(R,{type:"line"},{default:n(()=>[s(k,{name:"articles",tab:"TA的文章"},{default:n(()=>[(i(!0),r(z,null,$(I.value,(o,S)=>(i(),r("div",vt,[o.avatar?(i(),h(p,{key:0,onClick:u=>_(o),style:{cursor:"pointer"},hoverable:""},{default:n(()=>[s(U,{height:"135",width:"200",src:o.avatar,style:{float:"left"}},null,8,["src"]),t("div",gt,[t("text",mt,l(o.title),1),t("p",null,[s(F,{"line-clamp":2},{tooltip:n(()=>[yt]),default:n(()=>[t("p",{innerHTML:o.content},null,8,wt)]),_:2},1024)]),t("div",bt,"发布时间："+l(o.releasetime),1)])]),_:2},1032,["onClick"])):(i(),h(p,{key:1,style:{cursor:"pointer"},hoverable:""},{default:n(()=>[t("div",kt,[t("text",{onClick:u=>_(o),style:{"font-weight":"bold","font-size":"20px"}},l(o.title),9,Ct),t("p",{onClick:u=>_(o)},l(o.content+"..."),9,zt),t("div",$t,"发布时间："+l(o.releasetime),1)])]),_:2},1024))]))),256))]),_:1}),s(k,{name:"collects",tab:"TA的收藏"},{default:n(()=>[(i(!0),r(z,null,$(H.value,(o,S)=>(i(),r("div",Tt,[o.avatar?(i(),h(p,{key:0,onClick:u=>_(o),style:{cursor:"pointer"},hoverable:""},{default:n(()=>[s(U,{height:"135",width:"200",src:o.avatar,style:{float:"left"}},null,8,["src"]),t("div",It,[t("text",Ht,l(o.title),1),t("p",null,[s(F,{"line-clamp":2},{tooltip:n(()=>[Bt]),default:n(()=>[t("p",{innerHTML:o.content},null,8,qt)]),_:2},1024)]),t("div",Mt,"发布时间："+l(o.releasetime),1)])]),_:2},1032,["onClick"])):(i(),h(p,{key:1,style:{cursor:"pointer"},hoverable:""},{default:n(()=>[t("div",Dt,[t("text",{onClick:u=>_(o),style:{"font-weight":"bold","font-size":"20px"}},l(o.title),9,Lt),t("p",{onClick:u=>_(o)},l(e.article.content+"..."),9,Ot),t("div",Ut,"发布时间："+l(o.releasetime),1)])]),_:2},1024))]))),256))]),_:1}),s(k,{name:"following",tab:"TA的关注"},{default:n(()=>[(i(!0),r(z,null,$(q.value,(o,S)=>(i(),r("div",Ft,[s(p,null,{default:n(()=>[s(D,{onClick:u=>V(o),round:"",size:"large",src:o.avatar,style:{float:"left",cursor:"pointer"}},null,8,["onClick","src"]),t("text",St,l(o.username),1)]),_:2},1024)]))),256))]),_:1})]),_:1})]),_:1})])])}}},Nt=J(jt,[["__scopeId","data-v-123e9328"]]);export{Nt as default};
